## 14-13-每人说一个项目接口，你设置多少并发

**首先涉及到并发用户数可以从以下几个方面去做数据判断**

1.系统用户数(注册用户数量)

2.在线用户数(平均每天大概有多少个用户要访问该系统，可以从系统日志从获得)

3.并发用户数(高峰期的时候的在线用户数量)

**三者之间的关系**

1. 在线用户数的预估可以采取20%的系统用户数。例如某个系统在系统用户数有1000，则同时  在线用户数据有可能达到200，或者预估200做参考
2. 在线用户数和并发用户数又存在着关系。即：平均并发用户数为C=NUTL为在线时长，

T为考核时长例如考核时长为1天，即8小时，但是用户平均在线时长为2小时，则c=n2/8

n为登录系统的用户数，L为登录的时常，例如一个系统有400个用户登录，然后每个用户登录 大概停留2小时，则以一天8小时考核，算平均并发用户则为c=400*2/8

答：就拿登录接口来讲吧

我们的并发数是根据注册用户数量及每天在线用户数综合来估算的，我们系统当时注册用户数量大概是在70多万的样子，不过这里其实有一些僵尸用户，真正的用户大概在60%的样子，也就是差不多，46万多一点，通过查看系统访问日志，高峰期的时候每天在线数,用户数量大概差不多在52000多点吧，按52000估算，每个用户停留时间大概在20分钟左右，大概平均每天同时在线用户数量在2145多。其中登录业务的占比大概在10%的样子，同时在登录的大概80%的比例计算，登录接口大概设置的并发数在172多的样子，查询业务的占比大概在30%，查询接口大概设置的井发数在510的样子，下单业务大概占比在20%，下单接口的井发数设定在345的样子。

[具体的指标都是SE跟测试主管他们经过分析出来给到我们的。他们开会的时候大概跟我们说过估算方式，差不多是这样的...]
